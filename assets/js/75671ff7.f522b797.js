"use strict";(self.webpackChunkdocs_src=self.webpackChunkdocs_src||[]).push([[18],{3205:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"metrics/DAGMetric","title":"DAG (Deep Acyclic Graph) Metric","description":"The Deep Acyclic Graph (DAG) Metric in NEval allows you to construct deterministic decision trees for evaluating LLM outputs using an LLM-as-a-judge approach. This metric provides fine-grained control over the evaluation process by defining specific decision nodes and criteria, enabling precise assessments tailored to your application\'s requirements.","source":"@site/docs/metrics/DAGMetric.md","sourceDirName":"metrics","slug":"/metrics/DAGMetric","permalink":"/DeepEvalSharpSite/docs/metrics/DAGMetric","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/metrics/DAGMetric.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Custom Metric","permalink":"/DeepEvalSharpSite/docs/metrics/CustomMetric"},"next":{"title":"Faithfulness Metric","permalink":"/DeepEvalSharpSite/docs/metrics/FaithfulnessMetric"}}');var i=r(4848),n=r(8453);const c={},o="DAG (Deep Acyclic Graph) Metric",a={},l=[{value:"When you should use DAG Metric",id:"when-you-should-use-dag-metric",level:4},{value:"When you SHOULDN&#39;T use DAG Metric",id:"when-you-shouldnt-use-dag-metric",level:4},{value:"How to use",id:"how-to-use",level:2},{value:"Optional Parameters",id:"optional-parameters",level:3},{value:"Samples",id:"samples",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"dag-deep-acyclic-graph-metric",children:"DAG (Deep Acyclic Graph) Metric"})}),"\n",(0,i.jsxs)(t.p,{children:["The Deep Acyclic Graph (DAG) Metric in ",(0,i.jsx)(t.code,{children:"NEval"})," allows you to construct deterministic decision trees for evaluating LLM outputs using an LLM-as-a-judge approach. This metric provides fine-grained control over the evaluation process by defining specific decision nodes and criteria, enabling precise assessments tailored to your application's requirements."]}),"\n",(0,i.jsx)(t.h4,{id:"when-you-should-use-dag-metric",children:"When you should use DAG Metric"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Custom Evaluation Criteria"})," \u2013 Use the DAG Metric when you need to define specific, deterministic evaluation criteria that go beyond standard metrics, allowing for tailored assessments of LLM outputs."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Complex Decision Trees"})," \u2013 Implement the DAG Metric to evaluate outputs that require multi-step decision processes, ensuring each aspect of the output meets your defined standards."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Enhanced Control Over Evaluation"})," \u2013 Opt for the DAG Metric when you require more control over the evaluation process compared to other metrics like G-Eval, allowing for precise customization of evaluation steps."]}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"when-you-shouldnt-use-dag-metric",children:"When you SHOULDN'T use DAG Metric"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Simple Evaluation Needs"})," \u2013 If your evaluation criteria are straightforward and don't require complex decision trees, using the DAG Metric may introduce unnecessary complexity."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Resource Constraints"})," \u2013 Constructing and processing detailed decision trees can be resource-intensive; if computational resources are limited, consider simpler metrics."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Lack of Specific Criteria"})," \u2013 If you don't have well-defined evaluation criteria or decision processes, the flexibility of the DAG Metric may not be fully utilized, making other metrics more appropriate."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"how-to-use",children:"How to use"}),"\n",(0,i.jsxs)(t.p,{children:["The DAG Metric requires ",(0,i.jsx)(t.code,{children:"input"})," and ",(0,i.jsx)(t.code,{children:"actual_output"})," when creating an test cases. Additional arguments like ",(0,i.jsx)(t.code,{children:"expected_output"})," and ",(0,i.jsx)(t.code,{children:"tools_called"})," may be necessary depending on your evaluation criteria."]}),"\n",(0,i.jsx)(t.p,{children:"Instantiate a DAG Metric by using one of these static constructors:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Constructor"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DAG.Metric()"})}),(0,i.jsx)(t.td,{children:"Initializes a new instance"})]})})]}),"\n",(0,i.jsx)(t.p,{children:"Here's an example of how to use DAG:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"var metric = DAG.Metric();\r\nvar result = metric.Evaluate(modelOutput);\n"})}),"\n",(0,i.jsx)(t.h3,{id:"optional-parameters",children:"Optional Parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"threshold"})}),(0,i.jsx)(t.td,{children:"A float representing the minimum passing threshold, defaulting to 0.5."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"include_reason"})}),(0,i.jsxs)(t.td,{children:["A boolean that, when set to ",(0,i.jsx)(t.code,{children:"True"}),", provides a reason for its evaluation score. Default is ",(0,i.jsx)(t.code,{children:"True"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"strict_mode"})}),(0,i.jsxs)(t.td,{children:["Enforces a binary metric score\u20141 for perfect precision, 0 otherwise\u2014setting the threshold to 1. Default is ",(0,i.jsx)(t.code,{children:"False"}),"."]})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"samples",children:"Samples"}),"\n",(0,i.jsx)(t.p,{children:"We've given you a sample to work with that evaluates bla bla bla. Here's how you can run these samples:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"var metric = DAG.Metric();\r\nvar result = metric.Evaluate(modelOutput);\n"})})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>c,x:()=>o});var s=r(6540);const i={},n=s.createContext(i);function c(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);